-- create "methods" table
CREATE TABLE "public"."methods" ("id" bigserial NOT NULL, "created_at" timestamptz NULL, "updated_at" timestamptz NULL, "deleted_at" timestamptz NULL, "method" text NULL, PRIMARY KEY ("id"));
-- create index "idx_methods_deleted_at" to table: "methods"
CREATE INDEX "idx_methods_deleted_at" ON "public"."methods" ("deleted_at");
-- create index "idx_methods_method" to table: "methods"
CREATE INDEX "idx_methods_method" ON "public"."methods" ("method");
-- create "roles" table
CREATE TABLE "public"."roles" ("id" bigserial NOT NULL, "created_at" timestamptz NULL, "updated_at" timestamptz NULL, "deleted_at" timestamptz NULL, "role" text NULL, PRIMARY KEY ("id"));
-- create index "idx_roles_deleted_at" to table: "roles"
CREATE INDEX "idx_roles_deleted_at" ON "public"."roles" ("deleted_at");
-- create index "idx_roles_role" to table: "roles"
CREATE INDEX "idx_roles_role" ON "public"."roles" ("role");
-- create "services" table
CREATE TABLE "public"."services" ("id" bigserial NOT NULL, "created_at" timestamptz NULL, "updated_at" timestamptz NULL, "deleted_at" timestamptz NULL, "service" text NULL, PRIMARY KEY ("id"));
-- create index "idx_services_deleted_at" to table: "services"
CREATE INDEX "idx_services_deleted_at" ON "public"."services" ("deleted_at");
-- create index "idx_services_service" to table: "services"
CREATE INDEX "idx_services_service" ON "public"."services" ("service");
-- create "users" table
CREATE TABLE "public"."users" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "username" text NOT NULL, "email" text NOT NULL, "password" text NOT NULL, "role" character varying(255) NOT NULL, "avatar" text NULL, "verification_code" text NULL, "verified" boolean NULL DEFAULT false, "verified_at" timestamptz NULL, "password_reset_token" text NULL, "password_reset_at" timestamptz NULL, "otp_enabled" boolean NULL DEFAULT false, "otp_verified" boolean NULL DEFAULT false, "otp_secret" text NULL, "otp_auth_url" text NULL, "created_at" timestamptz NULL, "updated_at" timestamptz NULL, "deleted_at" timestamptz NULL, PRIMARY KEY ("id"));
-- create index "idx_users_email" to table: "users"
CREATE UNIQUE INDEX "idx_users_email" ON "public"."users" ("email");
-- create index "idx_users_password_reset_token" to table: "users"
CREATE INDEX "idx_users_password_reset_token" ON "public"."users" ("password_reset_token");
-- create index "idx_users_username" to table: "users"
CREATE UNIQUE INDEX "idx_users_username" ON "public"."users" ("username");
-- create index "idx_users_verification_code" to table: "users"
CREATE INDEX "idx_users_verification_code" ON "public"."users" ("verification_code");
-- insert default admin into table: "users"
INSERT INTO "public"."users" ("id","username","email","password","role","avatar","verification_code","verified","verified_at","password_reset_token","password_reset_at","otp_enabled","otp_verified","otp_secret","otp_auth_url","created_at","updated_at","deleted_at") VALUES ('028de3d9-2f46-4cb2-92f0-2ca723e31862','admin','admin@winow.com','$2a$10$/OVnD8CSq1lCFjPruuLqcu.99wuJsj/fsGw3GZbeWJ2GyLlPykpzK','admin','https://avatars.dicebear.com/api/open-peeps/admin.svg','',true,NULL,'',NULL,false,false,'','','2023-01-20 11:32:59.391','2023-01-20 11:32:59.391',NULL) RETURNING "id";
-- insert roles into table: "roles"
INSERT INTO "public"."roles" ("created_at","updated_at","deleted_at","role") VALUES ('2023-01-20 11:32:59.413','2023-01-20 11:32:59.413',NULL,'user'),('2023-01-20 11:32:59.413','2023-01-20 11:32:59.413',NULL,'admin') RETURNING "id";
-- insert account services into table: "services"
INSERT INTO "public"."services" ("created_at","updated_at","deleted_at","service") VALUES ('2023-01-20 11:32:59.42','2023-01-20 11:32:59.42',NULL,'pb.UserService'),('2023-01-20 11:32:59.42','2023-01-20 11:32:59.42',NULL,'pb.RoleService'),('2023-01-20 11:32:59.42','2023-01-20 11:32:59.42',NULL,'pb.ServiceService'),('2023-01-20 11:32:59.42','2023-01-20 11:32:59.42',NULL,'pb.MethodService'),('2023-01-20 11:32:59.42','2023-01-20 11:32:59.42',NULL,'pb.PolicyService') RETURNING "id";
-- insert account methods into table: "methods"
INSERT INTO "public"."methods" ("created_at","updated_at","deleted_at","method") VALUES ('2023-01-20 11:32:59.428','2023-01-20 11:32:59.428',NULL,'RefreshAccessToken'),('2023-01-20 11:32:59.428','2023-01-20 11:32:59.428',NULL,'UpdateMe'),('2023-01-20 11:32:59.428','2023-01-20 11:32:59.428',NULL,'ChangeEmail'),('2023-01-20 11:32:59.428','2023-01-20 11:32:59.428',NULL,'Logout'),('2023-01-20 11:32:59.428','2023-01-20 11:32:59.428',NULL,'GetMe'),('2023-01-20 11:32:59.428','2023-01-20 11:32:59.428',NULL,'CreateUser'),('2023-01-20 11:32:59.428','2023-01-20 11:32:59.428',NULL,'UpdateUserById'),('2023-01-20 11:32:59.428','2023-01-20 11:32:59.428',NULL,'DeleteUserById'),('2023-01-20 11:32:59.428','2023-01-20 11:32:59.428',NULL,'FindUsers'),('2023-01-20 11:32:59.428','2023-01-20 11:32:59.428',NULL,'FindUserById'),('2023-01-20 11:32:59.428','2023-01-20 11:32:59.428',NULL,'CreateRole'),('2023-01-20 11:32:59.428','2023-01-20 11:32:59.428',NULL,'DeleteRoleById'),('2023-01-20 11:32:59.428','2023-01-20 11:32:59.428',NULL,'FindRoles'),('2023-01-20 11:32:59.428','2023-01-20 11:32:59.428',NULL,'CreateService'),('2023-01-20 11:32:59.428','2023-01-20 11:32:59.428',NULL,'DeleteServiceById'),('2023-01-20 11:32:59.428','2023-01-20 11:32:59.428',NULL,'FindServices'),('2023-01-20 11:32:59.428','2023-01-20 11:32:59.428',NULL,'CreateMethod'),('2023-01-20 11:32:59.428','2023-01-20 11:32:59.428',NULL,'DeleteMethodById'),('2023-01-20 11:32:59.428','2023-01-20 11:32:59.428',NULL,'FindMethods'),('2023-01-20 11:32:59.428','2023-01-20 11:32:59.428',NULL,'CreatePolicy'),('2023-01-20 11:32:59.428','2023-01-20 11:32:59.428',NULL,'DeletePolicy'),('2023-01-20 11:32:59.428','2023-01-20 11:32:59.428',NULL,'FindPolicies') RETURNING "id";
-- insert safety services into table: "services"
INSERT INTO "public"."services" ("created_at","updated_at","deleted_at","service") VALUES ('2023-01-20 11:32:59.619','2023-01-20 11:32:59.619',NULL,'pb.AttendanceService'),('2023-01-20 11:32:59.619','2023-01-20 11:32:59.619',NULL,'pb.CertificateService'),('2023-01-20 11:32:59.619','2023-01-20 11:32:59.619',NULL,'pb.CheckService'),('2023-01-20 11:32:59.619','2023-01-20 11:32:59.619',NULL,'pb.OfficeService'),('2023-01-20 11:32:59.619','2023-01-20 11:32:59.619',NULL,'pb.ScheduleService'),('2023-01-20 11:32:59.619','2023-01-20 11:32:59.619',NULL,'pb.WorkspaceService'),('2023-01-20 11:32:59.619','2023-01-20 11:32:59.619',NULL,'pb.ImageService') RETURNING "id";
-- insert safety methods into table: "methods"
INSERT INTO "public"."methods" ("created_at","updated_at","deleted_at","method") VALUES ('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'CreateAttendance'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'UpdateAttendanceById'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'DeleteAttendanceById'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'FindAttendances'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'FindAttendanceById'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'CreateCertificate'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'UpdateCertificateById'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'DeleteCertificateById'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'FindCertificates'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'FindCertificateById'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'CheckIn'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'CheckOut'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'FindChecks'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'FindCheckById'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'CreateOffice'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'UpdateOfficeById'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'DeleteOfficeById'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'FindOffices'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'FindOfficeById'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'CreateSchedule'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'UpdateScheduleById'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'DeleteScheduleById'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'FindSchedules'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'FindScheduleById'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'CreateWorkspace'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'DeleteWorkspaceById'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'FindWorkspaces'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'UploadImage'),('2023-01-20 11:32:59.625','2023-01-20 11:32:59.625',NULL,'GetImageId') RETURNING "id";
